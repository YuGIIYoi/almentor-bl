<section class="comparison-section text-center py-10">
  <h2 class="text-2xl font-bold text-white mb-4">لست متأكدًا من الخطة التي تحتاجها؟</h2>
  <p class="text-white mb-8">اطلع على ما تقدمه كل خطة</p>

  <div class="comparison-container overflow-x-auto">
    <table class="comparison-table w-full border-collapse">
      <thead>
        <tr class="bg-gray-100">
          <th class="text-white p-4 text-right">قائمة ميزات المنتور للأعمال</th>
          <th class="text-white p-4">الفرق</th>
          <th class="text-white p-4">المؤسسات</th>
        </tr>
        <tr>
          <td></td>
          <td class="p-4">
            <a href="https://account.almentor.net/en/signup?r=https://payment.almentor.net/setup-account" 
               class="cta-teams block bg-red-600 text-white py-2 px-4 rounded-full text-sm">
              ابدأ الآن
            </a>
          </td>
          <td class="p-4">
            <a href="https://business.almentor.net/contact-us/" 
               class="cta-enterprise block border-2 border-black text-black py-2 px-4 rounded-full text-sm">
              اتصل بالمبيعات
            </a>
          </td>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let feature of features; let i = index">
          <!-- Feature Category Row -->
          <tr class="category-row">
            <td class="p-4 text-white font-bold bg-200" colspan="3">{{ feature.category }}</td>
          </tr>

          <!-- Feature Items -->
          <tr *ngFor="let item of feature.items; let j = index" class="border-b">
            <td class="p-4 text-white">{{ item }}</td>

            <!-- Pricing & User Limits Rows - No Click Event -->
            <td *ngIf="feature.category === 'التسعير' || feature.category === 'حدود المستخدمين'" class="p-4 text-white center">
              {{ plans.teams[getFeatureIndex(i, j)] }}
            </td>
            <td *ngIf="feature.category === 'التسعير' || feature.category === 'حدود المستخدمين'" class="p-4 text-white center">
              {{ plans.enterprises[getFeatureIndex(i, j)] }}
            </td>

            <!-- Regular Feature Items - Toggleable -->
            <td *ngIf="feature.category !== 'التسعير' && feature.category !== 'حدود المستخدمين'" 
                class="p-4 text-white center cursor-pointer" 
                (click)="toggleFeature('teams', getFeatureIndex(i, j))">
              {{ plans.teams[getFeatureIndex(i, j)] || '—' }}
            </td>
            <td *ngIf="feature.category !== 'التسعير' && feature.category !== 'حدود المستخدمين'" 
                class="p-4 text-white center cursor-pointer" 
                (click)="toggleFeature('enterprises', getFeatureIndex(i, j))">
              {{ plans.enterprises[getFeatureIndex(i, j)] || '—' }}
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</section>
